<!DOCTYPE html>
<html>
	<head>
		<title>kpopTv</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  		<meta name="mobile-web-app-capable" content="yes">
  		<meta name="apple-mobile-web-app-capable" content="yes">
		<script src="bower_components/webcomponentsjs/webcomponents.js"></script>
		<link rel="import" href="bower_components/polymer/polymer.html">
		<link rel="import" href="bower_components/core-scaffold/core-scaffold.html">					
		<link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
		<link rel="import" href="my_components/main-cards.html">
		<link rel="import" href="my_components/left-menu.html">		
		<style shim-shadowdom>
			html, body {
				height: 100%;
				margin: 0;
			}

			body {
				font-family: sans-serif;				
			}

			core-animated-pages {
				width: 100%;
				height: 100%;
			}

			core-scaffold {
				position: absolute;
				top: 0;
				right: 0;
				bottom: 0;
				left: 0;
			}

			.content {
				background-color: #fff;
				height: 3000px;
				padding: 20px;
			}

			core-scaffold[mode=cover]::shadow core-header-panel::shadow #mainContainer {
				left: 120px;				
			}

			core-scaffold[mode=cover] .content {
				margin: 20px 100px 20px 0;
			}	

			#shadowWrapper1 {
				position: absolute;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%;
				background-color: rgba(0,0,0,.15);
				z-index: 10000;	
			}		

			#shadowWrapper2 {
				position: absolute;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%;
				background-color: rgba(0,0,0,.15);
				z-index: 10000;	
			}		
		</style>
	</head>
	<body unresolved>
		<template id="temp_app" is="auto-binding">			
			<section>
				<core-scaffold>					
					<core-header-panel navigation flex mode="seamed">
						<left-menu></left-menu>											
						<div id="shadowWrapper1" hidden></div>
					</core-header-panel>

					<div tool>Top header</div>

					<div class="content">
						<main-cards groups="{{groups}}" fireToggle="{{fireToggle}}" touch-action="auto"></main-cards>
					</div>					
					<div id="shadowWrapper2" hidden></div>
				</core-scaffold>																			
			</section>			
			<script>
				var main_cards = document.querySelector('main-cards');
				var shadowWrapper1 = document.querySelector("#shadowWrapper1");				
				var shadowWrapper2 = document.querySelector("#shadowWrapper2");
				shadowWrapper1.addEventListener("click", function() {
					shadowWrapper1.setAttribute("hidden", null);
					shadowWrapper2.setAttribute("hidden", null);
					main_cards.fireToggle = !main_cards.fireToggle;
				});
				shadowWrapper2.addEventListener("click", function() {
					shadowWrapper1.setAttribute("hidden", null);
					shadowWrapper2.setAttribute("hidden", null);
					main_cards.fireToggle = !main_cards.fireToggle;
				});

				main_cards.addEventListener('hide-content', function(e) {
					shadowWrapper1.setAttribute("hidden", null);
					shadowWrapper2.setAttribute("hidden", null);
				});
				main_cards.addEventListener('show-content', function(e) {
					shadowWrapper1.removeAttribute("hidden");
					shadowWrapper2.removeAttribute("hidden");
				});	
				
			</script>	
		</template>
		<script src="app.js"></script>
	</body>
</html>